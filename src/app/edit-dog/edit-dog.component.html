<div class="ellipsis-2">
<h1 ellipsis-2>Editing {{dog?.name??''}}</h1>
</div>
@if(isLoading){
    <p>Loading...</p>
}
@else{
<form [formGroup]="editDogData" (ngSubmit)="onSubmit()">
    <div class="inputs">
    <label for="name">
        <div>
            Name<span class="required">*</span>
        </div>
        <input type="text" name="name" id="name" formControlName="name" maxlength="12" [value]="dog.name" >
        @if( editDogData.get('name').status === "INVALID" || editDogData.get('name').touched && !editDogData.get('name').valid){
            <div>
            <small>Name is required</small>
            </div>
        }
    </label>

    <label for="age">
        <div>
            Age<span class="required">*</span>
        </div>
        <input type="number" name="age" id="age" formControlName="age" min="0" max="20" [value]="dog.age" >
        @if( editDogData.get('age').status === "INVALID" || editDogData.get('age').touched && !editDogData.get('age').valid){
            <div>
            <small>Age is required</small>
            </div>
        }
    </label>

    <label for="gender">
        <div>
            Gender<span class="required">*</span>
        </div>
        <select name="gender" id="gender" formControlName="gender" >
            
            <option value="male" [selected]="dog.gender==='male'">Male</option>
            <option value="female" [selected]="dog.gender==='female'">Female</option>
        </select>

        @if(editDogData.get('gender').status === "INVALID" || editDogData.get('gender').touched && !editDogData.get('gender').valid){
            <div>
            <small>Gender is required</small>
            </div>
        }
    </label>

    <label for="breed">
        <div>
            Breed<span class="required">*</span>
        </div>
        <input type="text" name="breed" id="breed" [value]="dog.breed" maxlength="31" formControlName="breed" >
        @if(editDogData.get('breed').status === "INVALID" || editDogData.get('breed').touched && !editDogData.get('breed').valid){
            <div>
            <small>Breed is required</small>
            </div>
        }
    </label>
    <label for="height">
        <div>
            Height<span class="required">*</span>
        </div>
        <input type="number" name="height" id="height" min="0.1" [value]="dog.height" formControlName="height" >
        @if(editDogData.get('height').status === "INVALID" || editDogData.get('height').touched && !editDogData.get('height').valid){
            <div>
            <small>Height is required</small>
            </div>
        }
    </label>
    <label for="weight">
        <div>
            Weight<span class="required">*</span>
        </div>
        <input type="number" name="weight" id="weight" min="0.1" [value]="dog.weight" formControlName="weight" >
        @if(editDogData.get('weight').status === "INVALID" || editDogData.get('weight').touched && !editDogData.get('weight').valid){
            <div>
            <small>Weight is required</small>
            </div>
        }
    </label>

    <label for="photo">
        <div>
            Photo<span class="required">*</span>
        </div>
        <input type="text" name="photo" id="photo" [value]="dog.photo" formControlName="photo" >
        @if( (editDogData.get('photo').touched || !editDogData.get('photo').valid) && editDogData.get('photo').errors?.['invalidUrl'] !== null  ){
            <div>
            @if(editDogData.get('photo').value===''){
                <small>Photo is required</small>
            }
            @else{
                <small>Invalid URL. It needs to end with .jpg or .png</small>
            }
            </div>
        }
    </label>

    <label for="about">
        About
        <textarea name="about" id="about" [value]="dog.about" formControlName="about"></textarea>
    </label>
</div>
    <div class="buttons">
        <button class="cancel" type="button" [routerLink]="['/dogs']">Cancel</button>
    <button class="edit" type="submit" [disabled]="!editDogData.valid">Edit Dog</button>
</div>
</form>

}