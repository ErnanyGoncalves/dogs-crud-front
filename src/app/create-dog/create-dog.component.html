<h1>Creating new Dog</h1>

<form (ngSubmit)="onSubmit(formData)" #formData="ngForm" enctype="multipart/form-data">
    <div class="inputs">
    <label for="name">
        <div>
        Name<span class="required">*</span>
    </div>
        <input type="text" name="name" id="name" maxlength="12" ngModel #name="ngModel" required>
        <div>
        @if(name.touched && !name.valid){
            <small>Name is required</small>
        }
    </div>
    </label>

    <label for="age">
        <div>
        Age<span class="required">*</span>
    </div>
        <input type="number" name="age" id="age" min="0" max="20" ngModel #age="ngModel" required>
        
        <div>
        @if(age.touched && !age.valid){
        @if(age.errors?.required){
            <small>Age is required</small>
        }@else if(age.errors?.min || age.errors?.max){
            <small>The age is between 0 and 20 years old</small>
        }
    }
</div>
    </label>

    <label for="gender">
        <div>
        Gender<span class="required">*</span>
    </div>
        <select name="gender" id="gender" required #gender="ngModel" ngModel>
            <option value="male">Male</option>
            <option value="female">Female</option>
        </select>
        <div>
        @if(gender.touched && !gender.valid){
            <small>Gender is required</small>
        }
    </div>
    </label>

    <label for="breed">
        <div>
        Breed<span class="required">*</span>
    </div>
        <input type="text" name="breed" id="breed" maxlength="31" ngModel #breed="ngModel" required>
        <div>
        @if(breed.touched && !breed.valid){
            <small>Breed is required</small>
        }
    </div>
    </label>
    <label for="height">
        <div>
        Height<span class="required">*</span>
    </div>
        <input type="number" name="height" id="height" min="0.1" max="112" ngModel #height="ngModel" required>
        <div>
        

        @if(height.touched && !height.valid){
            @if(height.errors?.required){
                
                <small>Height is required</small>
                
            }@else if(height.errors?.min || height.errors?.max){
                <small>The height is between 0.1 and 112 cm</small>
            }
        }
        
    </div>
    </label>
    <label for="weight">
        <div>
        Weight<span class="required">*</span>
    </div>
        <input type="number" name="weight" id="weight" min="0.1" max="156" ngModel #weight="ngModel" required>
        
        <div>
        
        @if(weight.touched && !weight.valid){
            @if(weight.errors?.required){
                
                <small>Weight is required</small>
                
            }@else if(weight.errors?.min || weight.errors?.max){
                <small>The weight is between 0.1 and 156 kg</small>
            }
        }
    </div>
    </label>

    <label for="photo">
        <div>
        Photo<span class="required">*</span>
    </div>
        <input  type="file" name="photo" id="photo" (change)="onFileChange($event)" ngModel #photo="ngModel" accept="image/*" required>
        <div>
        
            @if(photo.touched && !photo.valid){
                <small>Photo is required</small>
            }
    </div>
    </label>

    <label for="about">
        About
        <textarea name="about" id="about" maxLength="500" [(ngModel)]="aboutText" #about="ngModel"></textarea>
        <span class="countChars">{{aboutText.length}}/500</span>
    </label>
</div>
    <div class="buttons">
        <button class="cancel" type="button" [routerLink]="['/dogs']">Cancel</button>
        <button class="confirm" type="submit"
         [disabled]="!formData.valid"
         >Create Dog</button>
    </div>
</form>