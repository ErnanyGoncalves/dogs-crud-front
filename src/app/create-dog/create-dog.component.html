<h1>Creating new Dog</h1>

<form (ngSubmit)="onSubmit(formData)" #formData="ngForm">
    <div class="inputs">
    <label for="name">
        <div>
        Name<span class="required">*</span>
    </div>
        <input type="text" name="name" id="name" maxlength="12" ngModel #name="ngModel" required>
        <div>
        @if(name.touched && !name.valid){
            <small>Name is required</small>
        }
    </div>
    </label>

    <label for="age">
        <div>
        Age<span class="required">*</span>
    </div>
        <input type="number" name="age" id="age" min="0" max="20" ngModel #age="ngModel" required>
        @if(age.touched && !age.valid && age.value===""){
            <div>
            <small>Age is required</small>
            </div>
        }@else if(age.touched && !age.valid &&(age.value < 0 ||age.value > 20)){
            <small>The age is between 0 and 20</small>
        }
    </label>

    <label for="gender">
        <div>
        Gender<span class="required">*</span>
    </div>
        <select name="gender" id="gender" required #gender="ngModel" ngModel>
            <option value="male">Male</option>
            <option value="female">Female</option>
        </select>
        <div>
        @if(gender.touched && !gender.valid){
            <small>Gender is required</small>
        }
    </div>
    </label>

    <label for="breed">
        <div>
        Breed<span class="required">*</span>
    </div>
        <input type="text" name="breed" id="breed" maxlength="31" ngModel #breed="ngModel" required>
        <div>
        @if(breed.touched && !breed.valid){
            <small>Breed is required</small>
        }
    </div>
    </label>
    <label for="height">
        <div>
        Height<span class="required">*</span>
    </div>
        <input type="number" name="height" id="height" min="0.1" ngModel #height="ngModel" required>
        <div>
        @if(height.touched  && !height.valid && height.value===""){
            <small>Height is required</small>
        }@else if(height.touched && !height.valid &&height.value < 0.1){
            <small>The height minimum is 0.1 cm</small>
        }
    </div>
    </label>
    <label for="weight">
        <div>
        Weight<span class="required">*</span>
    </div>
        <input type="number" name="weight" id="weight" min="0.1" ngModel #weight="ngModel" required>
        
        <div>
        @if(weight.touched && !weight.valid && weight.value===""){
            <small>Weight is required</small>
        }@else if(weight.touched && !weight.valid &&weight.value < 0.1){
            <small>The weight minimum is 0.1 kg</small>
        }
    </div>
    </label>

    <label for="photo">
        <div>
        Photo<span class="required">*</span>
    </div>
        <input type="text" name="photo" id="photo" ngModel #photo="ngModel" required>
        <div>
        @if(formData.submitted || photo.touched  ){
            @if(!photo.valid || photo.value===''){
            <small>Photo is required</small>
            }
            @else if(!validateUrl(photo.value)){
                <small>Invalid URL. It needs to end with .jpg or .png</small>
            }
        }
    </div>
    </label>

    <label for="about">
        About
        <textarea name="about" id="about" maxLength="500" [(ngModel)]="aboutText" #about="ngModel"></textarea>
        <span class="countChars">{{aboutText.length}}/500</span>
    </label>
</div>
    <div class="buttons">
        <button class="cancel" type="button" [routerLink]="['/dogs']">Cancel</button>
        <button class="confirm" type="submit"
         [disabled]="!formData.valid || !validateUrl(photo.value)"
         >Create Dog</button>
    </div>
</form>